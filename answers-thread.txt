This is beacause if two or more threads call "void insert(int key, int value, struct entry **p, struct entry *n)", maybe one bucket will be inserted in a time.

With the same parameters, these calls are likely to loss insert.